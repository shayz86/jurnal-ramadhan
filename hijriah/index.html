<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Kalender Hijriah</title>

<link rel="stylesheet" href="hijriah.css" />

</head>
<body>

<!-- HEADER -->
<header class="hijri-header">
  <button onclick="history.back()">â†</button>
  <h1>Kalender Hijriah</h1>
  <button id="openPuasa">ğŸ“…</button>
</header>

<!-- MONTH NAV -->
<div class="hijri-month-nav">
  <button id="prevMonth">â€¹</button>
  <div id="monthTitle">Sha'ban 1447 H</div>
  <button id="nextMonth">â€º</button>
</div>

<!-- WEEK -->
<div class="hijri-weekdays">
  <div>Sen</div><div>Sel</div><div>Rab</div>
  <div>Kam</div><div>Jum</div><div>Sab</div><div>Min</div>
</div>

<!-- GRID -->
<div class="hijri-grid" id="calendarGrid"></div>

<!-- POPUP PUASA -->
<div class="puasa-popup" id="puasaPopup">
  <div class="puasa-card">
    <h3>ğŸ“œ Jadwal Puasa Sunnah</h3>

    <ul>
      <li>ğŸ•Œ Senin & Kamis</li>
      <li>ğŸŒ• Ayyamul Bidh (13â€“15)</li>
      <li>ğŸ•‹ Puasa Daud</li>
      <li>ğŸ“… Puasa Asyura</li>
      <li>ğŸŒ™ Puasa Arafah</li>
    </ul>

    <button onclick="closePuasa()">Tutup</button>
  </div>
</div>

<script>

const arabNums = ["Ù ","Ù¡","Ù¢","Ù£","Ù¤","Ù¥","Ù¦","Ù§","Ù¨","Ù©"];

function toArabic(num){
  return num.toString().split("").map(n=>arabNums[n]).join("");
}

const hijriMonths = [
 "Muharram","Safar","Rabi'ul Awal","Rabi'ul Akhir",
 "Jumadal Ula","Jumadal Akhirah",
 "Rajab","Sha'ban","Ramadhan",
 "Syawal","Dzulqa'dah","Dzulhijjah"
];

let currentMonth = 7;
let currentYear = 1447;

const monthTitle = document.getElementById("monthTitle");
const grid = document.getElementById("calendarGrid");

function renderCalendar(){

  monthTitle.textContent =
    hijriMonths[currentMonth] + " " + currentYear + " H";

  grid.innerHTML = "";

  const daysInMonth = 30;
  const startOffset = 3;

  for(let i=0;i<startOffset;i++){
    grid.appendChild(document.createElement("div"));
  }

  for(let d=1; d<=daysInMonth; d++){

    const cell = document.createElement("div");
    cell.className = "hijri-day";

    const greg = document.createElement("div");
    greg.className = "greg";
    greg.textContent = d;

    const hijri = document.createElement("div");
    hijri.className = "hijri";
    hijri.textContent = toArabic(d);

    if(d===28){
      cell.classList.add("today");
    }

    cell.appendChild(greg);
    cell.appendChild(hijri);
    grid.appendChild(cell);
  }
}

renderCalendar();

/* NAV */

document.getElementById("prevMonth").onclick = ()=>{
 currentMonth--;
 if(currentMonth<0){
   currentMonth=11;
   currentYear--;
 }
 renderCalendar();
};

document.getElementById("nextMonth").onclick = ()=>{
 currentMonth++;
 if(currentMonth>11){
   currentMonth=0;
   currentYear++;
 }
 renderCalendar();
};

/* POPUP */

const popup = document.getElementById("puasaPopup");

document.getElementById("openPuasa").onclick=()=>{
 popup.classList.add("show");
};

function closePuasa(){
 popup.classList.remove("show");
}

</script>

</body>
</html>
